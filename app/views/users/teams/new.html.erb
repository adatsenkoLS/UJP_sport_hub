<div class="cabinet-form">


  <%= image_tag("teams/Map.png", class:"map-team")%>


<%= simple_form_for @team, url: users_teams_path, method: :post do |form| %>
   
   <div class="team-form">
    
      <div>
      
        <div class="form-group combobox-teams">
          <%= label_tag( nil,'SELECT LOCATION',class: "login-text")%>
         <%= collection_select(:team, :city_id, City.all,:id, :team_country, {:include_blank => 'All',class:"selector-team"}) %>
        </div>
      
        <div class="form-group combobox-teams">
          <%= label_tag( nil,'SELECT CATEGORY',class: "login-text")%>
          <%= collection_select(:team, :subcategory ,Category.all, :id,:name, {:include_blank => 'All',class:"selector-team",id: 'team_subcategory'}) %>
        </div>  

        <div class="form-group combobox-teams " id="subcategories_select">
          <%= label_tag( nil,'SELECT SUBCATEGORY', class: "login-text") %>
           <%= form.collection_select  :subcategory_id, Subcategory.all, :id, :name , {:include_blank => 'All',class:"selector-team"} %>
        </div>


        <div class="form-group combobox-teams">
          <%= label_tag( nil,'TEAM NAME', class:  "login-text") %>
          <%= form.text_field :team_name,:class=>"input-login" %>
        </div>
      </div>

       <div class= "add-logo-team form-group">
         
          
         <%= form.file_field :image,:id=>"file-upload" %>
         
        <label for="file-upload" class="custom-file-upload">
      <img  id="img_preview" src = "/assets/teams/photoAddTeam.svg">
        <p id= "text-upload-file"><span style="color: #D72130;">Add logo</span>  right here</p> 
        </label>  
      
    </div>

     <div class="teams-all-buttons">
        
        <%= submit_tag( "Add to list",:class=>"login-buton alert-button",id: "filter-team") %>   
        <%= link_to 'Cancel', '/users/teams/new', class: "cansel-team-button", method: :get %> 
      
      </div>   
      
    </div>
  </div>
  <% end %>

<script>teamsCheck() 

 function showPreview(event) {
       if(event.target.files.length>0){
           let src = URL.createObjectURL(event.target.files[0]);
           let preview = document.getElementById('img_preview');
           preview.src = src;
           $("#img_preview").css('margin-bottom','0px'); 
           document.getElementById('img_preview').classList.add("preview");
           //add-logo-team
          //
            let txtInInput=document.getElementById('text-upload-file');
            txtInInput.style.display = "none"
            $("#img_preview").css('width',"auto");
           
       }
   }
   const input = document.getElementById("file-upload");
   input.addEventListener("change", showPreview);

</script>

</div>

